
;------------------------------
;General Change
;------------------------------

#modify: clean up
//给电神器附加轻微减速
modify:
{
	match:
	{
		"targetname" "Staff_Electro_Trigger"
		  "hammerid" "474888"
  		  "classname" "trigger_hurt"	
  }
	insert:
	{
	 	"OnHurtPlayer" "Map_SpeedModModifySpeed0.60-1"
		"OnHurtPlayer" "Map_SpeedModModifySpeed0.80.3-1"
		"OnHurtPlayer" "Map_SpeedModModifySpeed1.00.49-1"
	}
}

//修复水会被高爆解的情况，且超僵碰到水速度增益解除。
modify:
{
	match:
	{
		"classname" "trigger_multiple"
		"targetname" "Staff_Water_Trigger"
		"hammerid" "475157"
	}
	insert:
	{
		
		"OnStartTouch" "Map_SpeedModModifySpeed15-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.14.8-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.14.6-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.14.4-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.14.2-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.14.0-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.13.8-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.13.6-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.13.4-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.13.2-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.13.0-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.12.8-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.12.6-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.12.4-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.12.2-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.12.0-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.11.8-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.11.6-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.11.4-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.11.2-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.11.0-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.10.8-1"
		"OnStartTouch" "Map_SpeedModModifySpeed0.10.6-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.10.4-1"
   		 "OnStartTouch" "Map_SpeedModModifySpeed0.10.2-1"
    		"OnStartTouch" "Map_SpeedModModifySpeed0.10-1"
                "OnStartTouch" "!activatorFireUser40-1"
	}
}

------------------------------		
 ;FIX Ex Guard Boss Hp		
 ;------------------------------		
 filter:		
 {		
 	"hammerid" "2126338"		
 	"targetname" "Ehe_Guardian_AddHP"		
 }		
 add:		
 {		
 	"model" "*202"		
 	"targetname" "Ehe_Guardian_AddHP_Fix"		
 	"StartDisabled" "1"		
 	"spawnflags" "1"		
 	"origin" "-2048 -3376 2144"		
 	"filtername" "Filter_Team_Humans"		
 	"classname" "trigger_once"		
 	"OnStartTouch" "Ehe_Guardian_HPAdd230-1"		
 }		
 modify:		
 {		
 	match:		
 	{		
 		"hammerid" "835328"		
 		"targetname" "ZE_Extreme_Ending"		
 	}		
 	insert:		
 	{		
 		"OnStartTouch" "Ehe_Guardian_AddHP_FixEnable01"		
 	}		
 }		


//add item particle kill at laser end on ep and god mode
add:
{
   "origin" "-1902 -6408 -4716"
   "targetname" "item_cdhint_particle_kill"
   "StartDisabled" "0"
   "spawnflags" "0"
   "classname" "logic_relay"
   connections
   {
   "OnTrigger" "Staff_Heal_ParticleKill01"
   "OnTrigger" "Staff_Fire_ParticleKill01"
   "OnTrigger" "Staff_Electro_ParticleKill01"
   "OnTrigger" "Staff_Earth_ParticleKill01"
   "OnTrigger" "Staff_Water_ParticleKill01"
   "OnTrigger" "Staff_Holy_ParticleKill01" 
   }
}
modify:
{
      match:
           {
	   "targetname" "Airship_Ending_Trigger"
	   "classname" "trigger_once"
	   }
      insert:
            {
	    "OnTrigger" "item_cdhint_particle_killTrigger01"
	    }
}

// fix bonus zm item speed
add:
{
    "origin" "-6200 -10024 5373"
    "targetname" "script_spawn"
    "StartDisabled" "0"
    "spawnflags" "0"
    "classname" "logic_relay"
    connections
    {
    "OnSpawn" "!selfRunScriptCode::Map_SpeedMod <-'M'.tochar()+'a'.tochar()+'p'.tochar()+'_'.tochar()+'S'.tochar()+'p'.tochar()+'e'.tochar()+'e'.tochar()+'d'.tochar()+'M'.tochar()+'o'.tochar()+'d'.tochar()01"
    "OnSpawn" "!selfRunScriptCode::ModifySpeed <-'M'.tochar()+'o'.tochar()+'d'.tochar()+'i'.tochar()+'f'.tochar()+'y'.tochar()+'S'.tochar()+'p'.tochar()+'e'.tochar()+'e'.tochar()+'d'.tochar()01"
    "OnSpawn" "!selfRunScriptCode::Bonus <-'B'.tochar()+'o'.tochar()+'n'.tochar()+'u'.tochar()+'s'.tochar()01"
    "OnSpawn" "!selfRunScriptCode::SetSpeed <-function(E1){EntFire(Map_SpeedMod,ModifySpeed,1.35,0.00,E1)}0.11"
    }
} 
modify:
{
      match:
           {
           "targetname" "Begin_Setting"
           "classname" "trigger_multiple"
           }
      insert:
            {
            "OnStartTouch" "!activatorFireUser40-1"
            }
}
modify:
{
      match:
           {
           "targetname" "Airship_Bonus_ZM_Item"
           "classname" "trigger_once"
           }
      insert:
            {
            "OnStartTouch" "!activatorAddOutputtargetname Bonus01"
            "OnStartTouch" "!activatorAddoutputOnUser1 !self:RunScriptCode:SetSpeed(self):0:101"
            "OnStartTouch" "!activatorAddoutputOnUser4 Speed_Timer:Disable::0:101"
            "OnStartTouch" "!activatorAddoutputOnUser4 !self:FireUser1::0.2:101"
            "OnStartTouch" "!activatorAddoutputOnUser4 Map_SpeedMod:ModifySpeed:1.00:0.3:101"
            "OnStartTouch" "!activatorAddoutputOnUser4 Zombieboss_Part:Stop::0.1:101"
            "OnStartTouch" "Speed_TimerEnable01"
            }
}
add:
{
    "origin" "-6200 -10024 5373"
    "UseRandomTime" "0"
    "targetname" "Speed_Timer"
    "StartDisabled" "1"
    "spawnflags" "0"
    "RefireTime" "0.2"
    "classname" "logic_timer"
    connections
    {
    "OnTimer" "BonusFireUser10-1"
    "OnTimer" "BonusAddoutputOnUser1 Bonus:RunScriptCode:SetSpeed(self):0:10.1-1"
    }
}


//adjust finale trigger
modify:
{
      match:
           {
           "targetname" "Trigger_End_Epic"
           "classname" "trigger_once"
           }
      insert:
            {
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.8-1"
            }
}
modify:
{
      match:
           {
           "targetname" "Trigger_End_Godmode"
           "classname" "trigger_once"
           }
      insert:
            {
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage0.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage1.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage2.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage3.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage4.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage5.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage6.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage7.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage8.8-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.2-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.4-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.6-1"
            "OnStartTouch" "!activatorSetDamageFilterFilter_NoDamage9.8-1"
            }
}

modify:
{
	match:
	{
	"targetname" "Guard_ZM_Immunity_Off"
	"classname" "trigger_multiple"
	}
	insert:
	{
	"OnEndTouch" "!activatorSetDamageFilter0-1"
	}
}


//item button
modify:
{
	match:
	{
	"targetname" "Staff_Holy_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Wind_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Fire_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Water_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Earth_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Heal_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}
modify:
{
	match:
	{
	"targetname" "Staff_Electro_Button"
	"classname" "func_button"
	}
	replace:
	{
	"wait" "0.01"
	}
}

//fix particle issues
modify:
{
	match:
	{
		"targetname" "Boss_Attack_NormalCase"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "Boss_Fire_Right_PartStop4.8-1"
		"OnCase02" "Boss_Fire_Left_PartStop4.8-1"
		"OnCase03" "Boss_Lure_PartStop3.4-1"
		"OnCase06" "Boss_HealStop3-1"
		"OnCase07" "Boss_Water_PartStop4.5-1"
	}
	insert:
	{
		"OnCase01" "Boss_Fire_Right_PartDestroyImmediately5-1"
		"OnCase02" "Boss_Fire_Left_PartDestroyImmediately5-1"
		"OnCase03" "Boss_Lure_PartDestroyImmediately3.5-1"
		"OnCase06" "Boss_HealDestroyImmediately3-1"
		"OnCase07" "Boss_Water_PartDestroyImmediately4.5-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Boss_Attack_Wind_Case"
		"classname" "logic_case"
	}
	delete:
	{
		"OnCase01" "Boss_Wind_Push_Part_LStop2-1"
		"OnCase02" "Boss_Wind_Push_PartStop2-1"
	}
	insert:
	{
		"OnCase01" "Boss_Wind_Push_Part_LDestroyImmediately2-1"
		"OnCase02" "Boss_Wind_Push_PartDestroyImmediately2-1"
	}
}
modify:
{
	match:
	{
		"targetname" "Boss_S_Firenova"
		"classname" "logic_case"
	}
	delete:
	{
		"OnUser1" "Boss_Fire_Right_PartStop9-1"
		"OnUser1" "Boss_Fire_Left_PartStop9-1"
		"OnUser1" "Boss_ParticleStop9-1"
		"OnUser1" "Boss_S_Firenova_PartStop9-1"
	}
	insert:
	{
		"OnUser1" "Boss_Fire_Right_PartDestroyImmediately9-1"
		"OnUser1" "Boss_Fire_Left_PartDestroyImmediately9-1"
		"OnUser1" "Boss_ParticleDestroyImmediately9-1"
		"OnUser1" "Boss_S_Firenova_PartDestroyImmediately9-1"
	}
}
//item particle
modify:
{
	match:
	{
		"targetname" "Knife_Lure_Knife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "Knife_Lure_Particle_1DestroyImmediately01"
		"OnPlayerPickup" "Knife_Lure_Particle_1Start0.251"
	}
}
modify:
{
	match:
	{
		"targetname" "Knife_Heal_Knife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "Knife_Heal_Particle_1DestroyImmediately01"
		"OnPlayerPickup" "Knife_Heal_Particle_1Start0.251"
	}
}
modify:
{
	match:
	{
		"targetname" "Knife_Warp_Knife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "Knife_Warp_Particle_1DestroyImmediately01"
		"OnPlayerPickup" "Knife_Warp_Particle_1Start0.251"
	}
}
modify:
{
	match:
	{
		"targetname" "Knife_Invis_Knife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "Knife_Invis_Particle_1DestroyImmediately01"
		"OnPlayerPickup" "Knife_Invis_Particle_1Start0.251"
	}
}


;Make earth non-solid to CTs during lasers(prevents trolling teammates)
add:
{
	"classname" "trigger_multiple"
	"filtername" "Filter_Team_Humans"
	"origin" "-14080 14592 24"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Staff_Earth_Trigger"
	"wait" "0"
	"OnStartTouch" "Staff_Earth_Prop,RunScriptCode,SetOwner<-function(){activator.SetOwner(self)},0,1"
	"OnStartTouch" "Staff_Earth_Prop,RunScriptCode,SetOwner(),0.03,-1"
}

add:
{
	"classname" "trigger_multiple"
	"filtername" "Filter_Team_Zombies"
	"origin" "-14080 14592 24"
	"spawnflags" "1"
	"StartDisabled" "1"
	"targetname" "Staff_Earth_Trigger2"
	"wait" "0"
	"OnStartTouch" "Staff_Earth_Prop,RunScriptCode,ResetOwner<-function(){activator.SetOwner(null)},0,1"
	"OnStartTouch" "Staff_Earth_Prop,RunScriptCode,ResetOwner(),0.03,-1"
}

modify:
{
	match:
	{
		"targetname" "Staff_Earth_Template"
		"classname" "point_template"
	}
	insert:
	{
		"Template02" "Staff_Earth_Trigger"
		"Template03" "Staff_Earth_Trigger2"
	}
}

modify:
{
	match:
	{
		"targetname" "Staff_Earth_Entity_Maker"
		"classname" "env_entity_maker"
	}
	insert:
	{
		"OnEntitySpawned" "Staff_Earth_Trigger,AddOutput,solid 2,0.05,-1"
		"OnEntitySpawned" "Staff_Earth_Trigger,AddOutput,mins -304 -304 -56,0.1,-1"
		"OnEntitySpawned" "Staff_Earth_Trigger,AddOutput,maxs 304 304 56,0.1,-1"
		"OnEntitySpawned" "Staff_Earth_Trigger2,AddOutput,solid 2,0.05,-1"
		"OnEntitySpawned" "Staff_Earth_Trigger2,AddOutput,mins -304 -304 -56,0.1,-1"
		"OnEntitySpawned" "Staff_Earth_Trigger2,AddOutput,maxs 304 304 56,0.1,-1"
		"OnEntitySpawned" "Staff_Earth_Nonsolid_Relay,Trigger,,0.05,-1"
	}
}

add:
{
	"classname" "logic_timer"
	"targetname" "Staff_Earth_Collision_Timer"
	"origin" "-14352 14576 16"
	"RefireTime" "0.1"
	"spawnflags" "0"
	"StartDisabled" "1"
	"UseRandomTime" "0"
	"OnTimer" "Staff_Earth_Trigger2,Enable,,0,-1"
	"OnTimer" "Staff_Earth_Trigger2,Disable,,0.05,-1"
	"OnTimer" "Staff_Earth_Trigger,Enable,,0,-1"
	"OnTimer" "Staff_Earth_Trigger,Disable,,0.05,-1"
}

modify:
{
	match:
	{
		"targetname" "Staff_Earth_Fix"
		"classname" "logic_branch"
	}
	insert:
	{
		"OnTrue" "Staff_Earth_Trigger,Kill,,6,-1"
		"OnTrue" "Staff_Earth_Trigger2,Kill,,6,-1"
	}
}

add:
{
	"classname" "logic_relay"
	"targetname" "Staff_Earth_Nonsolid_Relay"
	"origin" "4837 5004 2368"
	"spawnflags" "0"
	"StartDisabled" "1"
	"OnTrigger" "Staff_Earth_Collision_Timer,Enable,,0,-1"
	"OnTrigger" "Staff_Earth_Collision_Timer,Disable,,6,-1"
	"OnTrigger" "Staff_Earth_Trigger,Enable,,0,-1"
}

modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "ZE_Hard_Ending"
		"origin" "4736 -1440 2368"
	}
	insert:
	{
		"OnStartTouch" "Staff_Earth_Nonsolid_Relay,Enable,,60,-1"
		"OnStartTouch" "Holy_Killer,Trigger,,70,-1"
	}
}

modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "ZE_Extreme_Ending"
		"origin" "4736 -1504 2368"
	}
	insert:
	{
		"OnStartTouch" "Staff_Earth_Nonsolid_Relay,Enable,,70,-1"
		"OnStartTouch" "Holy_Killer,Trigger,,80,-1"
	}
}

modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "Airship_Ending_Trigger"
	}
	insert:
	{
		"OnTrigger" "Staff_Earth_Nonsolid_Relay,Enable,,0,-1"
		"OnTrigger" "Holy_Killer,Trigger,,0,-1"
	}
}

;Fix tp angles
modify:
{
	match:
	{
		"classname" "trigger_teleport"
	}
	insert:
	{
		"UseLandmarkAngles" "1"
	}
}

;Make it so 2 boss fire attacks in a row doesn't occasionally have invisible fire
modify:
{
	match:
	{
		"classname" "logic_case"
		"targetname" "Boss_Attack_NormalCase"
	}
	delete:
	{
		"OnCase01" "Boss_Fire_Right_PartStop4.8-1"
		"OnCase02" "Boss_Fire_Left_PartStop4.8-1"
	}
	insert:
	{
		"OnCase01" "Boss_Fire_Right_PartDestroyImmediately4.8-1"
		"OnCase02" "Boss_Fire_Left_PartDestroyImmediately4.8-1"
	}
}

;Add 20 red lasers trigger in admin room
add:
{
	"classname" "func_button"
	"origin" "-3135 -3526 2338"
	"spawnflags" "1025"
	"sounds" "10"
	"targetname" "admin_abuse_lasers"
	"OnPressed" "cmdCommandsay < An Admin has triggered <20 RED LASERS>!!! >21"
	"OnPressed" "cmdCommandsay < Prepare for the ULTIMATE Laserfag Experience! >41"
	"OnPressed" "cmdCommandsay < In all seriousness, this button should only have been pressed after a vote has passed (75%) >61"
	"OnPressed" "admin_abuse_lasersLock101"
	"OnPressed" "extra_Lasers_FaggotKill21"
	"OnPressed" "Trigger_Extra_Lasers_GodKill21"
	"OnPressed" "Trigger_PEnd_Godkill21"
	"OnPressed" "Trigger_Admin_Lasers_GodEnable21"
}

add:
{
	"origin" "-6138 -14008 5232"
	"targetname" "God_GuardianAdminLasers"
	"StartDisabled" "1"
	"spawnflags" "0"
	"solid" "0"
	"skin" "0"
	"rendercolor" "255 255 255"
	"renderamt" "255"
	"PerformanceMode" "1"
	"parentname" "Ehe_Guardian_Move"
	"model" "models/westersand/bossguard/bossguard.mdl"
	"MinAnimTime" "5"
	"MaxAnimTime" "30"
	"fadescale" "1"
	"fademindist" "-1"
	"DisableBoneFollowers" "1"
	"DefaultAnim" "entrance2"
	"damagefilter" "Filter_Team_Humans"
	"angles" "5 270 0"
	"classname" "prop_dynamic"
	"OnUser1" "!selfKill24.41"
	"OnUser1" "Ehe_GuardianSetAnimationattack121"
	"OnUser1" "Shake_3_Secs_RumbleStartShake01"
	"OnUser1" "!selfSetDefaultAnimationdead220.41"
	"OnUser1" "GOD_RANDOM_LASERPickRandomShuffle2.591"
	"OnUser1" "GOD_RANDOM_LASERPickRandomShuffle3.491"
	"OnUser1" "Ehe_GuardianSetAnimationdead120.41"
	"OnUser1" "Sound_God_endFireUser10-1"
	"OnUser1" "GOD_RANDOM_LASERPickRandom4.391"
	"OnUser1" "GOD_RANDOM_LASERPickRandom5.291"
	"OnUser1" "GOD_RANDOM_LASERPickRandom6.191"
	"OnUser1" "GOD_RANDOM_LASERPickRandom7.091"
	"OnUser1" "GOD_RANDOM_LASERPickRandom7.991"
	"OnUser1" "GOD_RANDOM_LASERPickRandom8.891"
	"OnUser1" "GOD_RANDOM_LASERPickRandom9.791"
	"OnUser1" "GOD_RANDOM_LASERPickRandom10.691"
	"OnUser1" "GOD_RANDOM_LASERPickRandom11.591"
	"OnUser1" "GOD_RANDOM_LASERPickRandom12.491"
	"OnUser1" "GOD_RANDOM_LASERPickRandom13.391"
	"OnUser1" "GOD_RANDOM_LASERPickRandom14.291"
	"OnUser1" "GOD_RANDOM_LASERPickRandom15.191"
	"OnUser1" "GOD_RANDOM_LASERPickRandom16.091"
	"OnUser1" "GOD_RANDOM_LASERPickRandom16.991"
	"OnUser1" "GOD_RANDOM_LASERPickRandom17.891"
	"OnUser1" "GOD_RANDOM_LASERPickRandom18.791"
	"OnUser1" "GOD_RANDOM_LASERPickRandom19.691"
}

add:
{
	"model" "*252"
	"targetname" "Trigger_Admin_Lasers_God"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-6144 -14832 5312"
	"classname" "trigger_once"
	"OnStartTouch" "Trigger_End_GodmodeEnable24.91"
	"OnStartTouch" "God_GuardianAdminLasersEnable01"
	"OnStartTouch" "God_GuardianAdminLasersFireUser111"
	"OnStartTouch" "Shake_3_Secs_RumbleStartShake61"
	"OnStartTouch" "Airship_Ending_PlateFireUser122.4-1"
}

;Break the bridge after 8 red lasers
modify:
{
	match:
	{
		"targetname" "God_GuardianAdminLasers"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"OnUser1" "Airship_Ending_Plate_BreakBreak91"
	}
}

;Lock Holy on Epic and God Endings
add:
{
	"classname" "logic_relay"
	"targetname" "Staff_Lock"
	"origin" "-3156 -3083 2133"
	"StartDisabled" "0"
	"Spawnflags" "0"
	"OnTrigger" "Staff_Holy_Button,Kill,0,1"
}
modify:
{
	match:
	{
		"classname" "logic_relay"
		"targetname" "Airship_Ending_Relay"
	}
	insert:
	{
		"OnTrigger" "Staff_Lock,Trigger,,0.5,1"
	}
}